<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">
    <PreferenceCategory android:title="Presets">
        <Preference
            android:key="save_preset"
            android:title="Save preset…"
            android:summary="Name and store current settings"/>
        <Preference
            android:key="load_preset"
            android:title="Load preset…"
            android:summary="Apply a saved preset"/>
        <Preference
            android:key="delete_preset"
            android:title="Delete preset…"
            android:summary="Remove a saved preset"/>
        <Preference
            android:key="copy_preset"
            android:title="Copy preset JSON"
            android:summary="Put current settings on the clipboard"/>
        <Preference
            android:key="paste_preset"
            android:title="Paste preset JSON"
            android:summary="Read JSON from clipboard and apply"/>
    </PreferenceCategory>

    <!-- High-end recovery + mapping -->
    <SeekBarPreference
        android:key="high_cut_khz"
        android:title="High cut (kHz)"
        android:max="22" android:min="10" android:defaultValue="18"
        app:showSeekBarValue="true"/>

    <SeekBarPreference
        android:key="beta_x100"
        android:title="Log spacing beta ×100"
        android:max="300" android:min="120" android:defaultValue="180"
        app:showSeekBarValue="true"/>

    <SeekBarPreference
        android:key="resample_tilt_x100"
        android:title="Resample tilt ×100"
        android:max="300" android:min="100" android:defaultValue="170"
        app:showSeekBarValue="true"/>

    <SeekBarPreference
        android:key="col_tilt_db"
        android:title="Column high-shelf (dB)"
        android:max="18" android:min="0" android:defaultValue="9"
        app:showSeekBarValue="true"/>

    <SeekBarPreference
        android:key="floor_after_ar"
        android:title="Post-envelope floor"
        android:max="32" android:min="0" android:defaultValue="4"
        app:showSeekBarValue="true"/>

    <!-- Live control -->
    <SwitchPreferenceCompat
        android:key="auto_apply" android:title="Auto-apply changes"
        android:defaultValue="true" android:summary="Update the toy on any change"/>

    <Preference android:key="apply_now"
        android:title="Apply to active toy" android:summary="Send settings to the toy"/>

    <Preference android:key="open_toys_mgr"
        android:title="Manage Glyph Toys" android:summary="Activate or reorder toys"/>

    <!-- Layout / mapping -->
    <SwitchPreferenceCompat
        android:key="use_circle_map" android:title="Map bars to circle"
        android:defaultValue="true" android:summary="Fit each column to visible span"/>
    <SeekBarPreference android:key="circle_inset" android:title="Circle inset (px)"
        android:max="4" android:min="0" android:defaultValue="0" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="cols" android:title="Columns (resampled)"
        android:max="25" android:min="12" android:defaultValue="23" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="rows" android:title="Bar height (rows)"
        android:max="25" android:min="8" android:defaultValue="23" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="clock_y" android:title="Clock Y"
        android:max="10" android:min="0" android:defaultValue="2" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="batt_y" android:title="Battery Y"
        android:max="24" android:min="12" android:defaultValue="17" app:showSeekBarValue="true"/>

    <!-- Battery display -->
    <SwitchPreferenceCompat
        android:key="hide_clock"
        android:title="Hide clock while playing"
        android:defaultValue="false"/>
    <SwitchPreferenceCompat
        android:key="erase_clock"
        android:title="FFT erases clock pixels"
        android:defaultValue="false"/>
    <SwitchPreferenceCompat
        android:key="hide_batt" android:title="Hide battery while playing" android:defaultValue="false"/>
    <SwitchPreferenceCompat
        android:key="erase_batt" android:title="FFT erases battery pixels" android:defaultValue="true"/>
    <SeekBarPreference android:key="full_threshold" android:title="FULL threshold (%)"
        android:max="100" android:min="50" android:defaultValue="80" app:showSeekBarValue="true"/>

    <!-- Brightness -->
    <SeekBarPreference android:key="bright_hhmm" android:title="Clock brightness"
        android:max="255" android:min="64" android:defaultValue="255" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="bright_batt" android:title="Battery brightness"
        android:max="255" android:min="64" android:defaultValue="200" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="bright_viz" android:title="Visualizer brightness"
        android:max="255" android:min="64" android:defaultValue="180" app:showSeekBarValue="true"/>

    <!-- Frame decay -->
    <SeekBarPreference android:key="frame_decay_idle" android:title="Frame decay (idle)"
        android:max="255" android:min="150" android:defaultValue="220" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="frame_decay_play" android:title="Frame decay (playing)"
        android:max="255" android:min="150" android:defaultValue="190" app:showSeekBarValue="true"/>

    <!-- FFT analysis -->
    <SeekBarPreference android:key="bands" android:title="Analysis bands"
        android:max="32" android:min="6" android:defaultValue="12" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="beta_x100" android:title="Log spacing beta ×100"
        android:max="300" android:min="100" android:defaultValue="200" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="scale_low" android:title="Low-band knee"
        android:max="128" android:min="8" android:defaultValue="64" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="scale_high" android:title="High-band knee"
        android:max="128" android:min="8" android:defaultValue="20" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="tilt_db" android:title="High tilt (dB)"
        android:max="18" android:min="0" android:defaultValue="9" app:showSeekBarValue="true"/>

    <!-- Post-processing -->
    <SeekBarPreference android:key="gate"  android:title="Noise gate"
        android:max="96" android:min="0" android:defaultValue="28" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="gain_x100" android:title="Gain ×100"
        android:max="200" android:min="50" android:defaultValue="120" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="gamma_x100" android:title="Gamma ×100"
        android:max="200" android:min="30" android:defaultValue="75" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="attack_x100" android:title="Attack ×100"
        android:max="100" android:min="10" android:defaultValue="55" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="release_x100" android:title="Release ×100"
        android:max="60" android:min="5" android:defaultValue="20" app:showSeekBarValue="true"/>

    <SeekBarPreference android:key="high_cut_khz" android:title="High cut (kHz)"
        android:max="22" android:min="8" android:defaultValue="12" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="low_cut_hz" android:title="Low cut (Hz)"
        android:max="300" android:min="20" android:defaultValue="50" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="smooth_alpha_x100" android:title="Smooth alpha ×100"
        android:max="90" android:min="10" android:defaultValue="35" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="floor_after_ar" android:title="Post-envelope floor"
        android:max="64" android:min="0" android:defaultValue="8" app:showSeekBarValue="true"/>
    <SeekBarPreference android:key="silence_gate_sum" android:title="Silence gate (sum)"
        android:max="500" android:min="0" android:defaultValue="40" app:showSeekBarValue="true"/>
    <SwitchPreferenceCompat android:key="zero_on_silence"
        android:title="Zero on silence" android:defaultValue="true"/>


</PreferenceScreen>
